---
sidebar_position: 2
---

# Initial bot configuration

## Useful info

:::tip info
It is recommended to edit `JSON` files with a text editor, I strongly recommend [`Visual Studio Code`](https://code.visualstudio.com/) which is completely free and open-source. For Linux you can download the binary from the VSCode website if available or download your distribution's package accordingly.
:::

## Editing the config file

Setting up galactica was meant to be easy and done by just editing a `json` file so you can change the token, prefix, presence and logs channel name for the bot.

First find the `config.json` file on the root directory of the bot and then edit these parameters:

```json title="config.json"
{
  "TOKEN": "YOUR_BOT_TOKEN",
  "BOT_PRESENCE": "YOUR_BOT_PRESENCE",
  "BOT_PRESENCE_TYPE": "WATCHING",
  "SERVER_OPTIONS": {
    "ENABLED": true,
    "PORT": null
  }
}
```

## Configuration parameters

| Variable                 | type                                                                                                                                                                                   | Default    | Description                                                                                                                                 |
| ------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------- | ------------------------------------------------------------------------------------------------------------------------------------------- |
| `TOKEN`                  | [string](https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#literal-types)                                                                                             | null       | The bot's token, if you don't have one you can get one from the [ Discord Developer portal ](https://discord.com/developers/applications) . |
| `BOT_PRESENCE`           | [string](https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#literal-types)                                                                                             | null       | The presence of the bot.                                                                                                                    |
| `BOT_PRESENCE_TYPE`      | [string](https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#literal-types)                                                                                             | "WATCHING" | Sets the presence type of the bot.                                                                                                          |
| `SERVER_OPTIONS.ENABLED` | [boolean](https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#literal-types)                                                                                            | true       | Starts a express.js server to check the bot's current status.                                                                               |
| `SERVER_OPTIONS.PORT`    | [number](https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#literal-types) or [null](https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#literal-types) | null       | The port the server will listen to, _null=3001_.                                                                                            |

## Configuring the database

Galactica uses the `SQLite` database by default which doesn't require an external database connection. It works as a part of the application.

### Using external databases
Due to Galactica using the Prisma Object Relational Mapper, it supports any `SQL` database by default, to change the default database edit the `.env` file.

```text title=".env"
-- DATABASE_URL="file:./database.db"

++ DATABASE_URL="SQL_DATABASE"://USER:PASSWORD@HOST:PORT/DATABASE"
```

## Pushing Prisma queries to database

To push the SQL queries to the database, we need to first create a Prisma dev migration.

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

<Tabs
  defaultValue="npx"
  values={[
    { label: "npx", value: "npx" },
    { label: "yarn", value: "yarn" },
    { label: "pnpx", value: "pnpx" },
  ]}
>
  <TabItem value="npx">

  ```shell
  npx prisma migrate dev --create-only
  ```

  </TabItem>

  <TabItem value="yarn">

  ```shell
  yarn run prisma migrate dev --create-only
  ```

  </TabItem>

  <TabItem value="pnpx">

  ```shell
  pnpx prisma migrate dev --create-only
  ```

  </TabItem>
</Tabs>

Now we need to push the changes to the database, to do so run:

<Tabs
  defaultValue="npx"
  values={[
    { label: "npx", value: "npx" },
    { label: "yarn", value: "yarn" },
    { label: "pnpx", value: "pnpx" },
  ]}
>
  <TabItem value="npx">

  ```shell
  npx prisma db push
  ```

  </TabItem>

  <TabItem value="yarn">

  ```shell
  yarn run prisma db push
  ```

  </TabItem>

  <TabItem value="pnpx">

  ```shell
  pnpx prisma db push
  ```

  </TabItem>
</Tabs>

And finally we need to compile our Prisma client by running:

<Tabs
  defaultValue="npx"
  values={[
    { label: "npx", value: "npx" },
    { label: "yarn", value: "yarn" },
    { label: "pnpx", value: "pnpx" },
  ]}
>
  <TabItem value="npx">

  ```shell
  npx prisma generate
  ```

  </TabItem>

  <TabItem value="yarn">

  ```shell
  yarn run prisma generate
  ```

  </TabItem>

  <TabItem value="pnpx">

  ```shell
  pnpx prisma generate
  ```

  </TabItem>
</Tabs>


### Note for docker users
The configuration above is not required because it's automatically done by the container build process.
